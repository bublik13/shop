<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Shop</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;600;700&family=IBM+Plex+Sans:ital,wght@0,600;1,400&family=Inter:wght@600&family=Source+Sans+Pro:wght@400;600&display=swap" rel="stylesheet"> 
    <link rel="stylesheet" href="css/main.css" />
  </head>
  <body class="body js-body">
    <section class="main">
        <div class="main__container container">
            <div class="main__wrap-top">
                <h1 class="main__title">Добавление товара</h1>
                <div class="main__dropdown">
                    <select class="main__btn btn btn-secondary" v-model="selected">
                    <option disabled value="">По умолчанию</option>
                    <option class="dropdown-item-btn btn">По умолчанию 1</option>
                    <option class="dropdown-item-btn btn">По умолчанию 2</option>
                    <option class="dropdown-item-btn btn">По умолчанию 3</option>
                    </select>
                    <span></span>
                </div>
            </div>
           <div class="main__wrap">
                <form class="main__form form js-form" id="app" @submit="checkForm" action="https://vuejs.org/" method="post" novalidate="true">
                    <p class="form__wrap">
                        <label class="form__label" for="name">Наименование товара</label>
                        <input class="form__name" id="name" v-model="name" type="text"  required placeholder="Введите наименование товара">
                        <p  v-if="errors.length">
                            <ul>
                                <li class="form__error" v-for="error in errors">{{ error }}</li>
                            </ul>
                        </p>
                    </p>
                    <p class="form__wrap">
                        <label for="textarea" class="form__label" >Описание товара</label>
                        <textarea class="form__textarea"  v-model="message"  placeholder="Введите описание товара"></textarea>
                    </p>
                    <p class="form__wrap">
                        <label class="form__label" for="url">Ссылка на изображение товара</label>
                        <input class="form__name" id="link" v-model="link" type="text" required placeholder="Введите ссылку">
                        <p class="form__errors" v-if="errors.length">
                            <ul>
                                <li class="form__error" v-for="error in errors">{{ error }}</li>
                            </ul>
                        </p>
                    </p>
                    <p  class="form__wrap" class="form__wrap">
                        <label class="form__label" for="name">Цена товара</label>
                        <input class="form__name" id="price" v-model="price" required  type="text" placeholder="Введите цену">
                        <p  v-if="errors.length">
                            <ul>
                                <li class="form__error" v-for="error in errors">{{ error }}</li>
                            </ul>
                        </p>
                    </p>
            
                    <p class="form__wrap-button">
                        <button type="submit" v-bind:disabled="isButtonDisabled" class="form__button" >Добавить товар</button>
                    </p>
                </form>
                <button type="button" aria-label="close" class="burger main__burger js-burger">
                    <span class="burger__line"></span>
                    <span class="burger__line"></span>
                    <span class="burger__line"></span>
                </button>
                <ul class="main__list list">
                    <li class="list__item">
                        <a href="#" class="list__card card">
                            <div class="card__top">
                                <img src="img/list/polaroid.jpg" alt="polaroid" class="card__img" width="332" height="200">
                            </div>                             
                            <div class="card__wrap">
                                <div class="card__name">
                                    Наименование товара
                                </div>
                                <p class="card__desc">
                                    Довольно-таки интересное описание товара в несколько строк. Довольно-таки интересное описание товара в несколько строк
                                </p>
                                <div class="card__price">
                                    10 000 руб.
                                </div>
                            </div>
                        </a>
                    </li>
                    <li class="list__item">
                        <a href="#" class="list__card card">
                            <div class="card__top">
                                <img src="img/list/polaroid.jpg" alt="polaroid" class="card__img" width="332" height="200">
                            </div>
                            <div class="card__wrap">
                                <div class="card__name">
                                    Наименование товара
                                </div>
                                <p class="card__desc">
                                    Довольно-таки интересное описание товара в несколько строк.
                                </p>
                                <div class="card__price">
                                    10 000 руб.
                                </div>
                            </div>
                        </a>
                    </li>
                    <li class="list__item">
                        <a href="#" class="list__card card">
                            <div class="card__top">
                                <img src="img/list/polaroid.jpg" alt="polaroid" class="card__img" width="332" height="200">
                            </div>
                            <div class="card__wrap">
                                <div class="card__name">
                                    Наименование товара
                                </div>
                                <p class="card__desc">
                                    Довольно-таки интересное описание товара в несколько строк. Довольно-таки интересное описание товара в несколько строк
                                </p>
                                <div class="card__price">
                                    10 000 руб.
                                </div>
                            </div>
                        </a>
                    </li>
                    <li class="list__item">
                        <a href="#" class="list__card card">
                            <div class="card__top">
                                <img src="img/list/polaroid.jpg" alt="polaroid" class="card__img" width="332" height="200">
                            </div>                            
                            <div class="card__wrap">
                                <div class="card__name">
                                    Наименование товара
                                </div>
                                <p class="card__desc">
                                    Довольно-таки интересное описание товара в несколько строк. Довольно-таки интересное описание товара в несколько строк
                                </p>
                                <div class="card__price">
                                    10 000 руб.
                                </div>
                            </div>
                        </a>
                    </li>
                    <li class="list__item">
                        <a href="#" class="list__card card">
                            <div class="card__top">
                                <img src="img/list/polaroid.jpg" alt="polaroid" class="card__img" width="332" height="200">
                            </div>                            
                            <div class="card__wrap">
                                <div class="card__name">
                                    Наименование товара
                                </div>
                                <p class="card__desc">
                                    Довольно-таки интересное описание товара в несколько строк. Довольно-таки интересное описание товара в несколько строк
                                </p>
                                <div class="card__price">
                                    10 000 руб.
                                </div>
                            </div>
                        </a>
                    </li>
                    <li class="list__item">
                        <a href="#" class="list__card card">
                            <div class="card__top">
                                <img src="img/list/polaroid.jpg" alt="polaroid" class="card__img" width="332" height="200">
                            </div>                            
                            <div class="card__wrap">
                                <div class="card__name">
                                    Наименование товара
                                </div>
                                <p class="card__desc">
                                    Довольно-таки интересное описание товара в несколько строк. Довольно-таки интересное описание товара в несколько строк
                                </p>
                                <div class="card__price">
                                    10 000 руб.
                                </div>
                            </div>
                        </a>
                    </li>
                    <li class="list__item">
                        <a href="#" class="list__card card">
                            <div class="card__top">
                                <img src="img/list/polaroid.jpg" alt="polaroid" class="card__img" width="332" height="200">
                            </div>                            
                            <div class="card__wrap">
                                <div class="card__name">
                                    Наименование товара
                                </div>
                                <p class="card__desc">
                                    Довольно-таки интересное описание товара в несколько строк. Довольно-таки интересное описание товара в несколько строк
                                </p>
                                <div class="card__price">
                                    10 000 руб.
                                </div>
                            </div>
                        </a>
                    </li>
                    <li class="list__item">
                        <a href="#" class="list__card card">
                            <div class="card__top">
                                <img src="img/list/polaroid.jpg" alt="polaroid" class="card__img" width="332" height="200">
                            </div>                            
                            <div class="card__wrap">
                                <div class="card__name">
                                    Наименование товара
                                </div>
                                <p class="card__desc">
                                    Довольно-таки интересное описание товара в несколько строк. Довольно-таки интересное описание товара в несколько строк
                                </p>
                                <div class="card__price">
                                    10 000 руб.
                                </div>
                            </div>
                        </a>
                    </li>
                    <li class="list__item">
                        <a href="#" class="list__card card">
                            <div class="card__top">
                                <img src="img/list/polaroid.jpg" alt="polaroid" class="card__img" width="332" height="200">
                            </div>                            
                            <div class="card__wrap">
                                <div class="card__name">
                                    Наименование товара
                                </div>
                                <p class="card__desc">
                                    Довольно-таки интересное описание товара в несколько строк. Довольно-таки интересное описание товара в несколько строк
                                </p>
                                <div class="card__price">
                                    10 000 руб.
                                </div>
                            </div>
                        </a>
                    </li>
                    <li class="list__item">
                        <a href="#" class="list__card card">
                            <div class="card__top">
                                <img src="img/list/polaroid.jpg" alt="polaroid" class="card__img" width="332" height="200">
                            </div>                            
                            <div class="card__wrap">
                                <div class="card__name">
                                    Наименование товара
                                </div>
                                <p class="card__desc">
                                    Довольно-таки интересное описание товара в несколько строк. Довольно-таки интересное описание товара в несколько строк
                                </p>
                                <div class="card__price">
                                    10 000 руб.
                                </div>
                            </div>
                        </a>
                    </li>
                </ul>
           </div>
        </div>       
    </section>

    <!-- подключаем js -->
    <script src="js/main.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
    <script>
        exports.handler = async (event, context) => {

        const badNames = ['vista', 'empire', 'mbp'];
        const name = event.queryStringParameters.name;

        if (badNames.includes(name)) {
        return {
            statusCode: 400,
            body: JSON.stringify({error: 'Invalid name passed.'})
        }
        }
        return {
        statusCode: 204
        }
        }
    </script>
    <script>
        const app = new Vue({
            el: '#app',
            data: {
            errors: [],
            name: null,
            email: null,
            movie: null
        },
        methods: {
        checkForm: function (e) {
            this.errors = [];
            if (!this.name) {
                this.errors.push('Поле является обязательным.');
            }
            if (!this.errors.length) {
                return true;
            }
            e.preventDefault();
            },
            validEmail: function (email) {
            var re = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
            return re.test(email);
            }
        }
        })
    </script>
    <script>
        const body = document.querySelector('.js-body');
        const form = document.querySelector('.js-form');
        const burger = document.querySelector('.js-burger');

        burger.addEventListener('click', ()=>{  
        burger.classList.toggle('burger--active');
        form.classList.toggle('main__form--active');
        body.classList.toggle('body--lock');
      });
    </script>

  </body>
</html>
